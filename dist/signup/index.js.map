{
  "version": 3,
  "sources": ["../../static/common/global.js", "../../static/signup/updateSignupBtn.js", "../../static/signup/joinClubListener.js", "../../static/signup/createClubListener.js", "../../static/common/api.js", "../../static/signup/submitSignup.js", "../../static/signup/index.js"],
  "sourcesContent": ["// export const host = \"http://localhost:3000\";\nexport const host = \"https://bro-cloud.herokuapp.com\";\n\nexport const FormState = class FormState {\n  constructor(customFn = null) {\n    this.state = {};\n    this.customFn = customFn;\n  }\n\n  updateState(key, value) {\n    this.state[key] = value;\n  }\n\n  eventListener(event) {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    // Update the form state\n    this.updateState.apply(this, [key, value]);\n  }\n\n  init(form) {\n    const elements = form.children;\n    for (let element of elements) {\n      if (element.nodeName === \"INPUT\" || element.nodeName === \"SELECT\") {\n        element.addEventListener(\"input\", this.eventListener.bind(this));\n      }\n    }\n  }\n\n  formData() {\n    return this.state;\n  }\n};\n\nexport const updateError = (error) => {\n  const errorNotif = document.querySelector(\".error\");\n  // identify the shape of the error object to extract\n  // the message and status code\n  const errorMessage = document.createTextNode(error);\n  errorNotif.appendChild(errorMessage);\n\n  setTimeout(() => {\n    errorNotif.innerText = \"\";\n  }, 20000);\n};\n\nexport const updateLocalStorage = (user) => {\n  localStorage.setItem(\"user\", JSON.stringify(user));\n};\n\nexport const redirectToHome = (user) => {\n  window.location.replace(`${host}/music/${user.clubId}/${user._id}`);\n};\n", "exports.updateSignupBtn = (text, clubName, clubId = null) => {\n  const signUpBtn = document.querySelector(\"#signup-submit--btn\");\n  signUpBtn.innerText = \"\";\n  signUpBtn.appendChild(text);\n  if (clubId) {\n    signUpBtn.dataset.clubId = clubId;\n  }\n  signUpBtn.dataset.clubName = clubName;\n};\n", "import { updateSignupBtn } from \"./updateSignupBtn\";\n\nexports.joinClubListener = function () {\n  const clubList = document.querySelector(\".signup-join--club\");\n  clubList.addEventListener(\"click\", (event) => {\n    const clubId = event.target.id;\n    const clubName = event.target.innerText;\n    const text = document.createTextNode(`Join ${clubName} Club`);\n    updateSignupBtn(text, clubName, clubId);\n  });\n};\n", "import { updateSignupBtn } from \"./updateSignupBtn\";\n\nexports.createClubListener = function () {\n  const newClubInput = document.querySelector(\".signup-create--club\");\n  newClubInput.addEventListener(\"input\", (event) => {\n    const clubName = event.target.value;\n    const text = document.createTextNode(`Create ${clubName} Club`);\n    updateSignupBtn(text, clubName);\n  });\n};\n", "import { host, updateError } from \"./global.js\";\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n\nconst options = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  method: \"POST\",\n};\n\nconst request = async (url, body, method) => {\n  if (user) {\n    const { clubId, _id } = user;\n    options.headers.Authorization = `${_id} ${clubId}`;\n  }\n\n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n\n  if (method) {\n    options.method = method;\n  }\n\n  const res = await fetch(host + url, options);\n  const data = await res.json();\n  if (res.status >= 200 && res.status <= 299) {\n    return Promise.resolve(data);\n  }\n\n  updateError(data.error);\n};\n\nexport default {\n  signupJoin: async (body, clubId) => {\n    const data = await request(`/signup/join/${clubId}`, body);\n    return Promise.resolve(data);\n  },\n  signupCreate: async (body, clubName) => {\n    const data = await request(`/signup/create/${clubName}`, body);\n    return Promise.resolve(data);\n  },\n  search: async (body) => {\n    const data = await request(\"/youtube-api/search\", body);\n    return Promise.resolve(data);\n  },\n  addVideo: async (body) => {\n    const data = await request(\"/music/addVideo\", body);\n    return Promise.resolve(data);\n  },\n  login: async (body) => {\n    const data = await request(\"/login\", body);\n    return Promise.resolve(data);\n  },\n};\n", "import api from \"../common/api\";\n\nexports.submitSignup = async (body) => {\n  const signUpBtn = document.querySelector(\"#signup-submit--btn\");\n  const clubId = signUpBtn.dataset.clubId;\n\n  if (clubId) {\n    return api.signupJoin(body, clubId);\n  }\n\n  const clubName = signUpBtn.dataset.clubName;\n  return api.signupCreate(body, clubName);\n};\n", "import {\n  FormState,\n  updateLocalStorage,\n  redirectToHome,\n} from \"../common/global\";\nimport { joinClubListener } from \"./joinClubListener\";\nimport { createClubListener } from \"./createClubListener\";\nimport { submitSignup } from \"./submitSignup\";\n\nconst formState = new FormState();\n\nwindow.onload = () => {\n  const form = document.getElementsByTagName(\"form\")[0];\n  formState.init(form);\n  form.addEventListener(\"submit\", formSubmit);\n  joinClubListener();\n  createClubListener();\n};\n\nasync function formSubmit(event) {\n  event.preventDefault();\n  const body = formState.formData();\n  const { user } = await submitSignup(body);\n  updateLocalStorage(user);\n  redirectToHome(user);\n}\n"],
  "mappings": "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",
  "names": []
}
