{
  "version": 3,
  "sources": ["../../static/common/global.js", "../../static/common/api.js", "../../static/signup/index.js"],
  "sourcesContent": ["// export const host = 'http://localhost:3000';\nexport const host = 'https://bro-cloud.herokuapp.com';\n\nexport const FormState = class FormState {\n  constructor () {\n    this.state = {}\n  }\n\n  updateState(event) {\n    const key = event.target.name;\n    const value = event.target.value;\n    this.state[key] = value;\n  }\n\n  init(form) {\n    const elements = form.children;\n    for (let element of elements) {\n      if (\n        element.nodeName === 'INPUT' \n        || element.nodeName === 'SELECT'\n      ) {\n        element.addEventListener('input', this.updateState.bind(this))\n      }\n    };\n  }\n\n  formData() {\n    return this.state;\n  }\n}\n\nexport const errorState = {\n  error: null,\n  updateError(error) {\n    this.error = error\n  },\n  getError() {\n    return this.error\n  }\n};\n", "import { host, errorState } from './global.js';\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst options = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  method: 'POST',\n}\n\nconst request = async (url, body, method) => {\n  if (user) {\n    const { clubId, _id } = user;\n    options.headers.Authorization = `${_id} ${clubId}`;\n  }\n\n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n\n  if (method) {\n    options.method = method\n  }\n  \n  const res = await fetch(host + url, options)\n  if (res.status >= 200 && res.status <= 299) {\n    const data = await res.json()\n    return Promise.resolve(data)\n  }\n\n  errorState.updateError(res.error)\n}\n\nexport default {\n  signup: async body => {\n    const data = await request('/signup', body);\n    return Promise.resolve(data)\n  },\n  search: async body => {\n    const data = await request('/search', body);\n    return Promise.resolve(data)\n  },\n  addVideo: async body => {\n    const data = await request('/addVideo', body);\n    return Promise.resolve(data)\n  },\n};", "import { FormState, host } from '../common/global.js';\nimport api from '../common/api';\nconst formState = new FormState()\n\nwindow.onload = () => {\n  console.log('f')\n  const form = document.querySelector('.signup--form');\n  formState.init(form);\n  form.addEventListener('submit', formSubmit);\n};\n\nasync function formSubmit (event) {\n  event.preventDefault();\n  const body = formState.formData();\n  const data = await api.signup(body);\n  console.log(data)\n  localStorage.setItem('user', JSON.stringify(data.user));\n  window.location.replace(`${host}/music/${data.user.clubId}`);\n}"],
  "mappings": "MACO,GAAM,GAAO,kCAEP,EAAY,KAAgB,CACvC,aAAe,CACb,KAAK,MAAQ,GAGf,YAAY,EAAO,CACjB,GAAM,GAAM,EAAM,OAAO,KACnB,EAAQ,EAAM,OAAO,MAC3B,KAAK,MAAM,GAAO,EAGpB,KAAK,EAAM,CACT,GAAM,GAAW,EAAK,SACtB,OAAS,KAAW,GAClB,AACE,GAAQ,WAAa,SAClB,EAAQ,WAAa,WAExB,EAAQ,iBAAiB,QAAS,KAAK,YAAY,KAAK,OAK9D,UAAW,CACT,MAAO,MAAK,QAIH,EAAa,CACxB,MAAO,KACP,YAAY,EAAO,CACjB,KAAK,MAAQ,GAEf,UAAW,CACT,MAAO,MAAK,QCpChB,GAAM,GAAO,KAAK,MAAM,aAAa,QAAQ,SAEvC,EAAU,CACd,QAAS,CACP,eAAgB,oBAElB,OAAQ,QAGJ,EAAU,MAAO,EAAK,EAAM,IAAW,CAC3C,GAAI,EAAM,CACR,GAAM,CAAE,SAAQ,OAAQ,EACxB,EAAQ,QAAQ,cAAgB,GAAG,KAAO,IAG5C,AAAI,GACF,GAAQ,KAAO,KAAK,UAAU,IAG5B,GACF,GAAQ,OAAS,GAGnB,GAAM,GAAM,KAAM,OAAM,EAAO,EAAK,GACpC,GAAI,EAAI,QAAU,KAAO,EAAI,QAAU,IAAK,CAC1C,GAAM,GAAO,KAAM,GAAI,OACvB,MAAO,SAAQ,QAAQ,GAGzB,EAAW,YAAY,EAAI,QAGtB,EAAQ,CACb,OAAQ,KAAM,IAAQ,CACpB,GAAM,GAAO,KAAM,GAAQ,UAAW,GACtC,MAAO,SAAQ,QAAQ,IAEzB,OAAQ,KAAM,IAAQ,CACpB,GAAM,GAAO,KAAM,GAAQ,UAAW,GACtC,MAAO,SAAQ,QAAQ,IAEzB,SAAU,KAAM,IAAQ,CACtB,GAAM,GAAO,KAAM,GAAQ,YAAa,GACxC,MAAO,SAAQ,QAAQ,KC1C3B,GAAM,GAAY,GAAI,GAEtB,OAAO,OAAS,IAAM,CACpB,QAAQ,IAAI,KACZ,GAAM,GAAO,SAAS,cAAc,iBACpC,EAAU,KAAK,GACf,EAAK,iBAAiB,SAAU,IAGlC,iBAA2B,EAAO,CAChC,EAAM,iBACN,GAAM,GAAO,EAAU,WACjB,EAAO,KAAM,GAAI,OAAO,GAC9B,QAAQ,IAAI,GACZ,aAAa,QAAQ,OAAQ,KAAK,UAAU,EAAK,OACjD,OAAO,SAAS,QAAQ,GAAG,WAAc,EAAK,KAAK",
  "names": []
}
