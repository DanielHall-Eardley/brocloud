{
  "version": 3,
  "sources": ["../../static/common/global.js", "../../static/common/api.js", "../../static/signup/signupType.js", "../../static/signup/index.js"],
  "sourcesContent": ["// export const host = 'http://localhost:3000';\nexport const host = \"https://bro-cloud.herokuapp.com\";\n\nexport const FormState = class FormState {\n  constructor(customFn = null) {\n    this.state = {};\n    this.customFn = customFn;\n  }\n\n  updateState(key, value) {\n    this.state[key] = value;\n  }\n\n  eventListener(event) {\n    const key = event.target.name;\n    const value = event.target.value;\n    const innerText = event.target.innerText;\n\n    // Update the form state\n    this.updateState.apply(this, [key, value]);\n\n    /* Pass on the input data to an optional custom function\n    to implement any other behaviour which isn't updating the\n    form state */\n    if (this.customFn) {\n      this.customFn({ key, value, innerText }, this.state);\n    }\n  }\n\n  init(form, extraListeners) {\n    const elements = form.children;\n    for (let element of elements) {\n      if (element.nodeName === \"INPUT\" || element.nodeName === \"SELECT\") {\n        element.addEventListener(\"input\", this.eventListener.bind(this));\n      }\n    }\n\n    if (extraListeners) {\n      const { identifier, childElementType, eventType } = extraListeners;\n\n      const parent = document.querySelector(identifier);\n      const children = parent.getElementsByTagName(childElementType);\n\n      for (let child of children) {\n        child.addEventListener(eventType, this.eventListener.bind(this));\n      }\n    }\n  }\n\n  formData() {\n    return this.state;\n  }\n};\n\nexport const updateError = (error) => {\n  const errorNotif = document.querySelector(\".error\");\n  const errorMessage = document.createTextNode(error);\n  errorNotif.appendChild(errorMessage);\n\n  setTimeout(() => {\n    errorNotif.innerText = \"\";\n  }, 20000);\n};\n", "import { host, updateError } from './global.js';\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst options = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  method: 'POST',\n}\n\nconst request = async (url, body, method) => {\n  if (user) {\n    const { clubId, _id } = user;\n    options.headers.Authorization = `${_id} ${clubId}`;\n  }\n\n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n\n  if (method) {\n    options.method = method\n  }\n  \n  const res = await fetch(host + url, options)\n  if (res.status >= 200 && res.status <= 299) {\n    const data = await res.json()\n    return Promise.resolve(data)\n  }\n\n  updateError(res.error)\n}\n\nexport default {\n  signup: async obj => {\n    const data = await request(`/signup/${obj.url}`, obj.body);\n    return Promise.resolve(data)\n  },\n  search: async body => {\n    const data = await request('/youtube-api/search', body);\n    return Promise.resolve(data)\n  },\n  addVideo: async body => {\n    const data = await request('/music/addVideo', body);\n    return Promise.resolve(data)\n  },\n};", "function signupType (event, state) {\n  console.log(event, state)\n  const signupBtn = document.querySelector(\"#signup--btn\");\n  signupBtn.innerText = ''\n  \n  let text;\n  if (event.key === 'clubId') {\n    text = document.createTextNode(`Join club: ${event.innerText}`)\n    signupBtn.setAttribute('name', 'join')\n    return signupBtn.appendChild(text)\n  }\n\n  if (event.key === 'clubName') {\n    text = document.createTextNode(`Create club: ${state[event.key]}`)\n    signupBtn.setAttribute('name', 'create')\n    return signupBtn.appendChild(text)\n  }\n}\n\nexport default signupType;\n", "import { FormState, host } from '../common/global';\nimport api from '../common/api';\nimport signupType from './signupType';\n\nconst formState = new FormState(signupType);\n\nwindow.onload = () => {\n  const form = document.querySelector('.signup--form');\n  const extraListeners = {\n    identifier: '.signup--club',\n    childElementType: 'button',\n    eventType: 'click'\n  };\n\n  formState.init(form, extraListeners);\n  form.addEventListener('submit', formSubmit);\n};\n\nasync function formSubmit (event) {\n  event.preventDefault();\n  const signupType = event.submitter.name;\n  const body = formState.formData();\n \n  const dataObj = {\n    body,\n    url: signupType\n  };\n\n  const data = await api.signup(dataObj);\n  \n  localStorage.setItem('user', JSON.stringify(data.user));\n  localStorage.setItem('userSignedUp', true);\n  window.location.replace(`${host}/music/${data.user.clubId}/${data.user._id}`);\n}"],
  "mappings": "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",
  "names": []
}
